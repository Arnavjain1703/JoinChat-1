<div>
	<div *ngIf="!session" id="join">
		<div class="row body">
			<div class="col-sm-4 col-xs-0 height center display2">
				<img class="image1" src="../../assets/images/Layer 1.svg">
			</div>
			<div class="col-sm-4 col-xs-12">
				<div class="heading">Join a meeting</div>
				<div class="padding">
					<form class="form-group" (submit)="getToken()" #c="ngForm">
						<label class="left">Name</label>
						<div class="margin">
							<input class="form-control " type="text" id="userName" name="userName"
								[(ngModel)]="myUserName" #userName="ngModel" required>
							<span class="help-block" *ngIf="!userName.valid && userName.touched" style="color:red;">
								Your name is required
							</span>
						</div>
						<label class="left">Session</label>
						<div class="margin">
							<input placeholder="Enter session " class="form-control " type="text" id="sessionId"
								name="sessionId" [(ngModel)]="mySessionId" #SessionId="ngModel" required>
							<span class="help-block" *ngIf="!SessionId.valid && SessionId.touched"
								style="color:red;">SessionId
								is required</span>
						</div>
						<div class="center">
							<button class="join-button" [disabled]="!c.valid">Join the meeting</button>
						</div>
					</form>
				</div>
			</div>
			<div class="col-sm-4 col-xs-0 height2 center display2">
				<img class="image2" src="../../assets/images/Layer 2.svg">
			</div>

		</div>
		<div class="row undisplay2">
			<div class="col-xs-6 center">
				<img class="image1" src="../../assets/images/Layer 1.svg">

			</div>
			<div class="col-xs-6 center">
				<img class="image2" src="../../assets/images/Layer 2.svg">

			</div>
		</div>

	</div>

	<div *ngIf="session" class="container-room" id="session">
		<div class="container-room1">
			<div class="row text-center mx-auto main-vid-con">
				<div *ngIf="mainStreamManager" id="main-video" class="col-md-6">
					<div id="session-header">
						<h1 id="session-title" class="box-head">{{mySessionId}}</h1><br>

						<button class="normal-button text-center pd1" (click)="videochange()"><img [src]="src"
								alt="video-off"></button>
						<button class="leave-button text-center" (click)="leaveSession()"><img style="width: 20px;"
								src="../../assets/images/call-disconnect.png"></button>
						<button class="normal-button text-center pd2" (click)="audiochange()"><img
								[src]="src2"></button>
						<button class="normal-button text-center pd3" (click)="chat()"><img
								src="../../assets/images/chat.png"></button>
						<user-video [streamManager]="mainStreamManager"></user-video>
					</div>

				</div>
			</div>
		</div>
		<div class="container-room2">
			<div class="row">
				<div id="video-container" class="col-md-6">
					<div *ngIf="publisher" class="stream-container col-md-6 col-xs-6">
						<user-video [streamManager]="publisher" (click)="updateMainStreamManager(publisher)">
						</user-video>
					</div>
					<div *ngFor="let sub of subscribers" class="stream-container col-md-6 col-xs-6">
						<user-video [streamManager]="sub" (click)="updateMainStreamManager(sub)"></user-video>
						<div *ngIf="sub.stream.connection.connectionId==audioconnectionId">
							<div *ngIf="!subaudio"><img class="audiooff" src="../../assets/images/omico-off.png"></div>
						</div>
						<div class="row">
							<div class="col-xs-4">
								<div *ngIf="sub.stream.connection.connectionId == connectionId">
									<div *ngIf="startSpeaking"><img class="small" src="../../assets/images/giphy.gif">
									</div>
									<div *ngIf="!startSpeaking"><img class="small"
											src="../../assets/images/stopspeak.png">
									</div>
								</div>
							</div>
							<div *ngIf="Host">
								<div class="col-xs-4">
									<button (click)="subaudiooff(sub)" class="normal-button text-center pd2">
										<!-- <img src="../../assets/images/mico-off.png" alt="mic-off"> -->
									</button>
								</div>
								<div class="col-xs-4">
									<button (click)="subvideooff(sub)" class="normal-button text-center pd1">
										<!-- <img src="../../assets/images/ovideo-off.png" alt="video-off"> -->
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="text-box" [class.display]="show" [class.undisplay]="!show">
			<div class="text-box">
				<div *ngFor="let message of messages">
					<div class="name">{{message.name}}</div>
					<div class="message">{{message.message}}</div>
				</div>
			</div>

			<div class="message-container">
				<form (ngSubmit)="onSubmit(f)" #f="ngForm">
					<input name="chat" placeholder="Type message..." class="message-box" ngModel>
					<button class="message-btn" type="submit">Send</button>
				</form>
			</div>
		</div>

	</div>

</div>